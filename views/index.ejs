<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&display=swap" rel="stylesheet">

    <link href="https://fonts.googleapis.com/css2?family=Josefin+Sans&display=swap" rel="stylesheet">
	<link rel="stylesheet" type="text/css" media="screen and (min-device-width: 415px)" href="/style.css">
<link rel="stylesheet" type="text/css" media="screen and (max-device-width: 414px)" href="/style2.css">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css">

<!-- jQuery library -->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

<!-- Popper JS -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>

<!-- Latest compiled JavaScript -->
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.0/js/bootstrap.min.js"></script>


</head>
<body>
   
    <nav class="navbar navbar-expand-sm bg-dark navbar-dark" id="nav">
        <!-- Brand -->
        <h3 class="heading">
            COVID-TRACKER
        </h3>
       
      
        <!-- Links -->
        
      
          <!-- Dropdown -->
         
        
      </nav>
      <div class="clock">
         
          <h1 class="clock1">
              
          </h1>
          <h4 class="last">
             
          </h4>
      </div>
       

      <div class="aa">
            <h3>Confirmed Cases</h3>

            <p class="para">
                <%= res.confirmed.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %>

            </p>
      </div>
      <div class="aa1">
        <h3>Recovered Cases</h3>
        <p class="para">
            <%= res.recovered.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %>
        </p>
    </div>
    <div class="aa2">
        <h3>Death Cases</h3>
        <p class="para">
            <%= res.deaths.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %>
        </p>
    </div>

    <div class="usa">
        <h2>USA</h2>
        <p class="para">
            
                <p><b> Recovered Cases:</b> <%= res3.recovered.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %></p><br>
                <p> <b>Confirmed Cases: </b><%= res3.confirmed.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %></p><br>
                <p><b> Death Cases:</b> <%= res3.deaths.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %></p><br>

        
    </div>
    <div class="india">
        <h3>INDIA</h3>
        <p class="para">
            <p><b> Recovered Cases:</b> <%= res4.recovered.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %></p><br>
                <p> <b>Confirmed Cases: </b><%= res4.confirmed.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %></p><br>
                <p><b> Death Cases:</b> <%= res4.deaths.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %></p><br>

        </p>
    </div>
    <div class="aus">
        <h3>Australia</h3>
        <p class="para">
            <p><b> Recovered Cases:</b> <%= res5.recovered.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %></p><br>
            <p> <b>Confirmed Cases: </b><%= res5.confirmed.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %></p><br>
            <p><b> Death Cases:</b> <%= res5.deaths.value.toString().replace(/\B(?=(\d{3})+(?!\d))/g, ","); %></p><br>

        </p>
    </div>
    



    <h3 class="country">
        All Countries
    </h3>


    <input type="email" class="form-control" autocomplete="off" placeholder="Search by city/state name" id="email" required>
  </div>

  <div class="scroll">
    <table class="table table-hover ttt">
        <tr>
        <th>
             Country
        </th>
        <th>
          Confirmed
        </th>
        <th>
         Recovered
        </th>
        <th>
           Deaths
        </th>
        </tr>
        <tbody id="myTable">
    <% for(var i=0;i<res2.length;i++) 
    {
        if(res2[i].provinceState==null)
        {
            continue;
        }
        %>
        <tr>
            <td>
                    <%=
                    res2[i].provinceState %>
                   
                
            </td>
            <td>
                <%= res2[i].confirmed %>
                <br>
                <p style="color: red;margin-left: -20px;"> (Confirmed)</p> 
               
            </td>
            <td>
               <p class="rec">
                <%= res2[i].recovered %>
            </p>
                
               <p style="color: green;margin-left: -20px;margin-top: -10px;">(Recovered)</p> 
            </td>
            <td>
                <%= res2[i].deaths %>
                <br>
               <p style="color: black;margin-left: -20px;"> (Deaths)</p>
            </td>

        </tr>
<% } %>
</tbody>
    </table>
  </div>

  <div id="covid">

  </div>

  <div class="footer">
      <h5>
          &copy; 2020 Designed by RISHAV AGARWAL(A passionate developer)
          <br>
          
      </h5>
      <h5 class="call">
      Call me At: 6289712990 for any queries</h5>
      <a href="#" class="fa fa-facebook"></a>
      <a href="#" class="fa fa-google"></a>
      <a href="#" class="fa fa-instagram"></a>
  </div>



         


<script lang="javascript">
    document.getElementById("covid").style.backgroundImage="url('https://covid19.mathdro.id/api/og')";
    
    var aaa = "<%= res.lastUpdate.toString() %>"
    var bbb = aaa.slice(0,10)
    $(".last").text("Last updated on "+bbb)

    
    $(document).ready(function(){
   setInterval(timer,1000)
   function timer()
   {
       var d=new Date()
       var hours = d.getHours()
       var minutes = d.getMinutes()
       var sec = d.getSeconds()
       $(".clock1").text(hours+":"+minutes+":"+sec)
   }
    })



    $(document).ready(function(){
  $("#email").on("keyup", function() {
    var value = $(this).val().toLowerCase();
    $("#myTable tr").filter(function() {
       
            $(this).toggle($(this).text().toLowerCase().indexOf(value) > -1)
        
     
    });
  });
});




function sortTable() {
  var table, rows, switching, i, x, y, shouldSwitch;
  table = document.getElementById("myTable");
  switching = true;
  /*Make a loop that will continue until
  no switching has been done:*/
  while (switching) {
    //start by saying: no switching is done:
    switching = false;
    rows = table.rows;
    console.log(rows.length)
   
    /*Loop through all table rows (except the
    first, which contains table headers):*/
    for (i = 1; i < (rows.length - 1); i++) {
      //start by saying there should be no switching:
      shouldSwitch = false;
      /*Get the two elements you want to compare,
      one from current row and one from the next:*/
      x = rows[i].getElementsByClassName("rec").innerHTML
      y = rows[i+1].getElementsByTagName("TD")[2];
    console.log(x)
      //check if the two rows should switch place:
      if (Number(x) > Number(y)) {
        //if so, mark as a switch and break the loop:
        shouldSwitch = true;
        break;
      }
    }
    if (shouldSwitch) {
      /*If a switch has been marked, make the switch
      and mark that a switch has been done:*/
      rows[i].parentNode.insertBefore(rows[i + 1], rows[i]);
      switching = true;
    }
  }
}
</script>    



</body>
</html>